<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kourtiss' Cult</title>
    <style>
        /* Your previous CSS styles here... */
        /* No change needed for the styles */
    </style>
</head>
<body>
    <header>
        <h1>Welcome to Kourtiss' Cult</h1>
    </header>
    <nav>
        <a href="#">Home</a>
        <a href="#">About</a>
        <a href="#">Gallery</a>
        <a href="#">Contact</a>
    </nav>
    <div class="hero">
        <h1>Join the Cult</h1>
        <p>Discover more about our fascinating world.</p>
    </div>
    <section>
        <h2>About Kourtiss' Cult</h2>
        <p>This is a fictional cult site meant for entertainment purposes.</p>
    </section>

    <!-- Chat Section -->
    <div class="chat-section">
        <h2>Chat with us</h2>
        <div class="chat-box"></div>
        <form class="chat-form" onsubmit="sendMessage(event)">
            <input type="text" placeholder="Type your message..." required>
            <button type="submit">Send</button>
        </form>
    </div>

    <footer>
        <p>&copy; 2024 Kourtiss' Cult. <a href="#">Privacy Policy</a></p>
    </footer>

    <!-- Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js"></script>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_AUTH_DOMAIN",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_STORAGE_BUCKET",
            messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
            appId: "YOUR_APP_ID"
        };

        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore(app);

        // Load chat messages from Firestore
        async function loadMessages() {
            const messagesSnapshot = await db.collection('messages').orderBy('timestamp').get();
            const chatBox = document.querySelector('.chat-box');
            chatBox.innerHTML = ''; // Clear previous messages
            messagesSnapshot.forEach(doc => {
                const message = doc.data();
                const messageElement = document.createElement('p');
                messageElement.innerHTML = `<strong>${message.name}:</strong> ${message.text}`;
                chatBox.appendChild(messageElement);
            });
        }

        // Send a new message to Firestore
        async function sendMessage(event) {
            event.preventDefault();
            const messageInput = document.querySelector('.chat-form input[type="text"]');
            const messageText = messageInput.value.trim();
            if (messageText === '') return;

            // Replace "User" with an actual user identifier or name
            const userName = "User";  // You can customize this

            await db.collection('messages').add({
                name: userName,
                text: messageText,
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            });

            messageInput.value = ''; // Clear input field
            loadMessages(); // Reload messages
        }

        // Initial load of messages
        document.addEventListener('DOMContentLoaded', loadMessages);
    </script>
</body>
</html>
